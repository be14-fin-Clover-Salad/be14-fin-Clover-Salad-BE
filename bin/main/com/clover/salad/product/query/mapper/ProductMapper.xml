<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.clover.salad.product.query.mapper.ProductMapper">

    <!-- 설명. 상품 ResultMap -->
    <resultMap id="ProductResultMap" type="com.clover.salad.product.command.application.dto.ProductDTO">
        <id property="id" column="ID"/>
        <result property="category" column="CATEGORY"/>
        <result property="name" column="NAME"/>
        <result property="serialNumber" column="SERIAL_NUMBER"/>
        <result property="productCode" column="PRODUCT_CODE"/>
        <result property="company" column="COMPANY"/>
        <result property="originCost" column="ORIGIN_COST"/>
        <result property="rentalCost" column="RENTAL_COST"/>
        <result property="description" column="DESCRIPTION"/>
        <result property="isDeleted" column="IS_DELETED"/>
        <result property="fileUploadId" column="FILE_UPLOAD_ID"/>
    </resultMap>

    <!-- 설명. 상품 상세정보 조회 -->
    <select id="selectProductById" resultMap="ProductResultMap" parameterType="_int">
        SELECT
               P.ID
             , P.CATEGORY
             , P.NAME
             , P.SERIAL_NUMBER
             , P.PRODUCT_CODE
             , P.COMPANY
             , P.ORIGIN_COST
             , P.RENTAL_COST
             , P.DESCRIPTION
             , P.IS_DELETED
             , P.FILE_UPLOAD_ID
          FROM PRODUCT P
         WHERE P.ID = #{productId}
    </select>

    <!-- 설명. 상품 상세정보 조회 -->
    <select id="selectProductList" resultMap="ProductResultMap">
        SELECT
               P.ID
             , P.CATEGORY
             , P.NAME
             , P.SERIAL_NUMBER
             , P.PRODUCT_CODE
             , P.COMPANY
             , P.ORIGIN_COST
             , P.RENTAL_COST
             , P.DESCRIPTION
             , P.IS_DELETED
             , P.FILE_UPLOAD_ID
          FROM PRODUCT P
    </select>
</mapper>